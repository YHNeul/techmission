<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <title>๋ฉ์ธ ํ์ด์ง</title>
</head>
<body>

<h2>๐ ๋๋ฒ๊น ์๋ณด</h2>
<p>ํ์ฌ ์ฌ์ฉ์: <span th:text="${username != null ? username : '์ต๋ช ์ฌ์ฉ์'}"></span></p>
<p>ํ์ฌ ์ญํ: <span th:text="${role != null ? role : '์์'}"></span></p>

<nav>
    <ul>
        <!-- โ ๋ก๊ทธ์ธ ์ ๋ ์ํ์์๋ง ํ์ -->
        <th:block th:if="${username == null}">
            <li><a href="/users/register">ํ์๊ฐ์</a></li>
            <li><a href="/users/login">๋ก๊ทธ์ธ</a></li>
        </th:block>

        <!-- โ ๋ก๊ทธ์ธ ๋ ์ํ์์๋ง ํ์ -->
        <th:block th:if="${username != null}">
            <li>ํ์ํฉ๋๋ค, <span th:text="${username}"></span>๋! (์ญํ: <span th:text="${role}"></span>)</li>
            <li>
                <form action="/logout" method="post">
                    <button type="submit">๋ก๊ทธ์์</button>
                </form>
            </li>

            <!-- โ ๋งค์ฅ ๋ชฉ๋ก ํ์ด์ง๋ก ์ด๋ ์ URL์ username๊ณผ role ํฌํจ -->
            <li><a th:href="@{/stores(username=${username}, role=${role})}">๋งค์ฅ ๋ชฉ๋ก</a></li>

            <!-- โ OWNER๋ง ๋งค์ฅ ๋ฑ๋ก ๊ฐ๋ฅ -->
            <th:block th:if="${role == 'OWNER'}">
                <li><a th:href="@{/stores/register(username=${username}, role=${role})}">๋งค์ฅ ๋ฑ๋ก</a></li>
            </th:block>
        </th:block>
    </ul>
</nav>

</body>
</html>
